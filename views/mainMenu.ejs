<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nest Finder</title>
    <link rel="stylesheet" href="../public/style.css">
</head>

<body>
    <!-- Navigation Bar -->
    <ul>
        <li><a href="#home" onclick="openTab('home')">Home</a></li>
        <li><a href="#chat" onclick="loadChatContent()">Chat</a></li>
        <li><a href="#myprofile" onclick="loadprofileContent()">Profile Setting</a></li>
        <li><a href="#signout" onclick="loadsignoutContent()">Sign Out</a></li>
    </ul>

    <!-- Tab Contents -->
    <div id="home" class="tab-content active">
        <div class="profilelayout">
            <div class="header">
                <h1 class="title">Find Your Roomie!</h1>
                <h1 class="slogan">Add A Slogan here for the app!</h1>
            </div>
            <div id="profile-info" class="profile-info">
                <!-- Match Display -->
                <div id="match-profile" class="match-profile">
                    <p class="description">
                        <!-- Match details will be populated here by JavaScript -->
                    </p>
                </div>
            </div>
            <div class="buttonscontainer">
                <button class="left" onclick="nextSkipUser()">Skip</button>
                <button class="right" onclick="nextKeepUser()">Nest Me</button>
            </div>
        </div>
    </div>

    <div id="chat" class="tab-content"></div>
    <div id="myprofile" class="tab-content"></div>
    <div id="signout" class="tab-content"></div>

    <script>
        // Sample matches (you would fetch this data dynamically)
        const matches = [
            { userName: "John Doe", gender: "Male", age: 25 },
            { userName: "Jane Smith", gender: "Female", age: 22 },
            { userName: "Alice Green", gender: "Female", age: 27 },
            { userName: "Bob Brown", gender: "Male", age: 24 },
        ];

        let currentMatchIndex = 0; // Track the index of the current match

        // Function to display the current match
        function displayCurrentMatch() {
            const matchProfileDiv = document.getElementById("match-profile");
            if (matches.length > 0 && currentMatchIndex < matches.length) {
                const match = matches[currentMatchIndex];
                matchProfileDiv.innerHTML = `
                    <p class="description">
                        ${match.userName}, ${match.age} years old, ${match.gender}
                    </p>
                `;
            } else {
                matchProfileDiv.innerHTML = "<p>No more matches available.</p>";
            }
        }

        // Function to handle the "Skip" action
        function nextSkipUser() {
            if (currentMatchIndex < matches.length - 1) {
                currentMatchIndex++; // Move to the next match
            } else {
                alert("No more matches.");
            }
            displayCurrentMatch();
        }

        // Function to handle the "Nest Me" action
        function nextKeepUser() {
            if (currentMatchIndex < matches.length - 1) {
                currentMatchIndex++; // Move to the next match
            } else {
                alert("No more matches.");
            }
            displayCurrentMatch();
        }

        // Initialize by displaying the first match
        window.onload = displayCurrentMatch;

        // Functions for Navigation
        function openTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
        }

        function loadChatContent() {
            window.location.href = '/chatBox.html';
        }

        function loadprofileContent() {
            window.location.href = '/newUser';
        }

        function loadsignoutContent() {
            window.location.href = '/Login/login.html';
        }
    </script>

</body>

</html>
